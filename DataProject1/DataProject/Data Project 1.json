{"paragraphs":[{"title":"Data Project 1","text":"Import basic libraries","user":"anonymous","dateUpdated":"2020-12-11T22:26:36+0000","config":{"colWidth":12,"fontSize":15,"enabled":false,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607724545697_-1477827150","id":"20201211-220905_1542154899","dateCreated":"2020-12-11T22:09:05+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3960"},{"text":"%pyspark\n!pip conda install python=3.5\n!pip install cassandra-driver\n!pip install requests\nimport cassandra\ncassandra.__version__\n","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":4,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607670252113_854758729","id":"20201207-094135_15338124","dateCreated":"2020-12-11T07:04:12+0000","dateStarted":"2020-12-11T18:38:39+0000","dateFinished":"2020-12-11T18:38:43+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3961"},{"text":"%sh\napt-get update\n/usr/bin/python3 --version\n/usr/bin/python3 -m pip install requests\n/usr/bin/python3 -m pip install sklearn\n/usr/bin/python3 -m pip install matplotlib\n/usr/bin/python3 -m pip install pandas","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"colWidth":4,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607687494993_-1179798782","id":"20201211-115134_406051053","dateCreated":"2020-12-11T11:51:34+0000","dateStarted":"2020-12-11T18:38:43+0000","dateFinished":"2020-12-11T18:38:48+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3962"},{"text":"%sh\npip3 install --upgrade pip\npip3 install pypi-install\npip3 install requests\npip3 install sklearn\npip3 install pandas\n","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"colWidth":4,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607682342425_303948407","id":"20201211-102542_382518664","dateCreated":"2020-12-11T10:25:42+0000","dateStarted":"2020-12-11T18:38:48+0000","dateFinished":"2020-12-11T18:38:54+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3963"},{"text":"Connect to Cassandra through Spark-Cassandra Connector","user":"anonymous","dateUpdated":"2020-12-11T22:26:36+0000","config":{"colWidth":12,"fontSize":16,"enabled":false,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607724692837_-1147556606","id":"20201211-221132_932392157","dateCreated":"2020-12-11T22:11:32+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:3964"},{"text":"%pyspark\nimport os\nos.environ['PYSPARK_SUBMIT_ARGS'] = '--packages com.datastax.spark:spark-cassandra-connector_2.12:3.0.0-beta,com.datastax.cassandra:cassandra-driver-core:3.9.0'","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":6,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1607670252117_1819765847","id":"20201207-100321_1002388765","dateCreated":"2020-12-11T07:04:12+0000","dateStarted":"2020-12-11T18:38:54+0000","dateFinished":"2020-12-11T18:38:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3965"},{"text":"%python\nfrom cassandra.cluster import Cluster\ncluster = Cluster(contact_points=['cassandra'], port=9042)\nsession = cluster.connect()","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":6,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1607670252118_1239913008","id":"20201207-094149_548508414","dateCreated":"2020-12-11T07:04:12+0000","dateStarted":"2020-12-11T18:38:54+0000","dateFinished":"2020-12-11T18:38:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3966"},{"text":"%cassandra\n\nselect * from dataproject01.dataset01;","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{"columns":[{"name":"code","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"city","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"african_population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"asian_population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"central_american_population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"centros_prim_100m","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"co_","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"condiciones_salud","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"dentistas","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"dias_desp_rate","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"dias_despejados","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"dias_lluvia","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"dias_lluvia_rate","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"dias_temp_30","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"elderly_rate","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"enfermeros","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"eu_population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"medicos","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"non_eu_population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"north_american_population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"nox_","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"oceanic_population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"pensiones","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"playa","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"south_american_population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"spanish_population","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"temp_media","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"yr","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""}],"scrollFocus":{},"selection":[],"grouping":{"grouping":[],"aggregations":[],"rowExpandedStates":{}},"treeView":{},"pagination":{"paginationCurrentPage":1,"paginationPageSize":250}},"tableColumnTypeState":{"names":{"code":"string","city":"string","african_population":"string","asian_population":"string","central_american_population":"string","centros_prim_100m":"string","co_":"string","condiciones_salud":"string","dentistas":"string","dias_desp_rate":"string","dias_despejados":"string","dias_lluvia":"string","dias_lluvia_rate":"string","dias_temp_30":"string","elderly_rate":"string","enfermeros":"string","eu_population":"string","medicos":"string","non_eu_population":"string","north_american_population":"string","nox_":"string","oceanic_population":"string","pensiones":"string","playa":"string","population":"string","south_american_population":"string","spanish_population":"string","temp_media":"string","yr":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"code","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"city","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"code\tcity\tafrican_population\tasian_population\tcentral_american_population\tcentros_prim_100m\tco_\tcondiciones_salud\tdentistas\tdias_desp_rate\tdias_despejados\tdias_lluvia\tdias_lluvia_rate\tdias_temp_30\telderly_rate\tenfermeros\teu_population\tmedicos\tnon_eu_population\tnorth_american_population\tnox_\toceanic_population\tpensiones\tplaya\tpopulation\tsouth_american_population\tspanish_population\ttemp_media\tyr\n5\tValencia\t33897.0\t22801.0\t8851.0\t17.0\t3.505341246\t81.3\t2625.0\t15.34246575\t56\t103\t28.21917808\t70\t18.89\t15054.0\t99698.0\t15083.0\t16281.0\t2928.0\t908.4604106\t296.0\t1011.0\t1\t2531188.0\t40797.0\t2305528.0\t18.0\t2018\n10\tMallorca\t35678.0\t13927.0\t6203.0\t14.0\t9.401373626\t113.7\t830.0\t24.38356164\t89\t59\t16.16438356\t74\t15.82\t6618.0\t137645.0\t5882.0\t8021.0\t2417.0\t1335.032329\t421.0\t1052.0\t1\t1188220.0\t43181.0\t940684.0\t17.4\t2019\n13\tSevilla\t11584.0\t6902.0\t5037.0\t18.0\t4.897228412\t80.9\t1759.0\t33.69863014\t123\t92\t25.20547945\t106\t16.13\t11517.0\t25926.0\t10413.0\t3840.0\t2073.0\t1280.342618\t92.0\t998.0\t0\t1945236.0\t12039.0\t1877680.0\t18.8\t2018\n11\tTenerife\t8282.0\t8088.0\t7602.0\t12.0\t9.705785124\t36.0\t698.0\t10.68493151\t39\t136\t37.26027397\t11\t17.11\t6653.0\t107415.0\t5353.0\t7006.0\t1197.0\t165.5452055\t66.0\t1035.0\t1\t1050152.0\t22499.0\t887958.0\t16.4\t2018\n1\tBarcelona\t134426.0\t96312.0\t42663.0\t17.0\t10.35950413\t136.8\t4528.0\t25.47945205\t93\t113\t30.95890411\t34\t19.12\t44383.0\t156754.0\t34556.0\t39177.0\t14225.0\t2530.920548\t796.0\t1126.0\t1\t5514880.0\t128049.0\t4902440.0\t17.8\t2018\n8\tBilbao\t13038.0\t4941.0\t6952.0\t14.0\t6.307548209\t87.0\t1043.0\t10.68493151\t39\t178\t48.76712329\t18\t23.07\t8713.0\t13949.0\t8044.0\t1554.0\t1005.0\t1026.195592\t59.0\t1408.0\t1\t1137190.0\t15182.0\t1080437.0\t15.2\t2019\n2\tBarcelona\t141018.0\t107601.0\t50751.0\t15.0\t8.58\t136.8\t4677.0\t33.69863014\t123\t76\t20.82191781\t32\t19.19\t45247.0\t170193.0\t34646.0\t42871.0\t15874.0\t2195.732044\t912.0\t1162.0\t1\t5575203.0\t146696.0\t4899233.0\t17.5\t2019\n4\tMadrid\t94555.0\t87166.0\t65168.0\t6.0\t2.176285714\t158.7\t8561.0\t32.60273973\t119\t58\t15.89041096\t78\t17.86\t53382.0\t279480.0\t45988.0\t34160.0\t18133.0\t2023.801994\t818.0\t1338.0\t0\t6641648.0\t206640.0\t5855366.0\t16.1\t2019\n7\tBilbao\t12237.0\t4758.0\t5274.0\t15.0\t6.406546961\t87.0\t1033.0\t7.123287671\t26\t196\t53.69863014\t13\t22.8\t8587.0\t13697.0\t7781.0\t1436.0\t913.0\t1075.09589\t58.0\t1367.0\t1\t1134848.0\t13373.0\t1083034.0\t15.2\t2018\n6\tValencia\t34641.0\t24069.0\t11055.0\t17.0\t3.33603352\t81.3\t2739.0\t26.57534247\t97\t74\t20.2739726\t76\t19.14\t15419.0\t98276.0\t15654.0\t17329.0\t3307.0\t729.6305556\t301.0\t1045.0\t1\t2540588.0\t45525.0\t2305963.0\t18.2\t2019\n9\tMallorca\t33535.0\t12861.0\t5431.0\t14.0\t10.45255255\t113.7\t821.0\t13.15068493\t48\t91\t24.93150685\t83\t15.72\t6366.0\t132287.0\t5738.0\t7551.0\t2249.0\t1491.260606\t392.0\t1019.0\t1\t1166923.0\t38386.0\t934208.0\t17.4\t2018\n14\tSevilla\t11965.0\t7155.0\t6444.0\t18.0\t4.471745856\t80.9\t1834.0\t45.20547945\t165\t46\t12.60273973\t133\t16.44\t11818.0\t26023.0\t10768.0\t4016.0\t2179.0\t1415.99435\t99.0\t1031.0\t0\t1949639.0\t13342.0\t1878352.0\t19.4\t2019\n12\tTenerife\t8408.0\t8401.0\t9046.0\t12.0\t14.36335404\t36.0\t720.0\t13.15068493\t48\t110\t30.1369863\t13\t17.35\t7063.0\t113677.0\t5579.0\t7602.0\t1300.0\t1104.452012\t69.0\t1067.0\t1\t1067518.0\t26687.0\t892282.0\t17.1\t2019\n3\tMadrid\t92897.0\t82121.0\t54378.0\t6.0\t8.970958904\t158.7\t8362.0\t22.46575342\t82\t87\t23.83561644\t86\t17.69\t52722.0\t274278.0\t44940.0\t32865.0\t16610.0\t2263.528767\t739.0\t1301.0\t0\t6549519.0\t175850.0\t5819629.0\t15.6\t2018\n"}]},"apps":[],"jobName":"paragraph_1607670252119_1580426026","id":"20201207-094547_462472174","dateCreated":"2020-12-11T07:04:12+0000","dateStarted":"2020-12-11T18:38:54+0000","dateFinished":"2020-12-11T18:38:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3967"},{"text":"Clean data and re-code variables","user":"anonymous","dateUpdated":"2020-12-11T22:26:36+0000","config":{"colWidth":12,"fontSize":16,"enabled":false,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607724951216_-391076108","id":"20201211-221551_976930499","dateCreated":"2020-12-11T22:15:51+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:3968"},{"text":"%python\nimport pandas as pd\n\ndf = pd.DataFrame(list(session.execute(\"SELECT * FROM dataproject01.dataset01\")))","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1607670252120_-237709434","id":"20201207-121703_372468584","dateCreated":"2020-12-11T07:04:12+0000","dateStarted":"2020-12-11T18:38:54+0000","dateFinished":"2020-12-11T18:38:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3969"},{"text":"%python\ndf[\"medicos_pop\"] = df.medicos/df.population\ndf[\"enfermeros_pop\"] = df.enfermeros/df.population\ndf[\"dentistas_pop\"] = df.dentistas/df.population","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"colWidth":6,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python","editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1607684881308_767130438","id":"20201211-110801_812729693","dateCreated":"2020-12-11T11:08:01+0000","dateStarted":"2020-12-11T18:38:55+0000","dateFinished":"2020-12-11T18:38:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3970"},{"text":"%python\ndf[\"quality_co\"] =  df.co_/10\ndf[\"quality_no\"] = df.nox_/(200*24)\ndf[\"quality_air\"] = (df.quality_co + df.quality_no)/2","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"colWidth":6,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python","editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1607695503475_84619475","id":"20201211-140503_2093487397","dateCreated":"2020-12-11T14:05:03+0000","dateStarted":"2020-12-11T18:38:55+0000","dateFinished":"2020-12-11T18:38:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3971"},{"text":"Split data and train Logistic Regression Model","user":"anonymous","dateUpdated":"2020-12-11T22:26:36+0000","config":{"colWidth":12,"fontSize":16,"enabled":false,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607725139235_666379643","id":"20201211-221859_964660102","dateCreated":"2020-12-11T22:18:59+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:3972"},{"text":"%python\ndf_2018= df[df[\"yr\"] == 2018]\ndf_2019= df[df[\"yr\"] == 2019]","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python","editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1607683067442_692148408","id":"20201211-103747_716740822","dateCreated":"2020-12-11T10:37:47+0000","dateStarted":"2020-12-11T18:38:55+0000","dateFinished":"2020-12-11T18:38:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3973"},{"text":"%python\nx_train = df_2018[['playa','dias_temp_30', 'quality_air', 'centros_prim_100m', 'pensiones']].values\ny_train = df_2018['city'].values\nx_test = df_2019[['population','medicos_pop', 'elderly_rate', 'centros_prim_100m', 'pensiones']].values\ny_test = df_2019['city'].values\n","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python","editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1607681380181_1937434423","id":"20201211-100940_983049493","dateCreated":"2020-12-11T10:09:40+0000","dateStarted":"2020-12-11T22:22:55+0000","dateFinished":"2020-12-11T22:22:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3974"},{"text":"%python\nimport sklearn","user":"anonymous","dateUpdated":"2020-12-11T22:26:35+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python","editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1607680456329_2001981732","id":"20201211-095416_1012233048","dateCreated":"2020-12-11T09:54:16+0000","dateStarted":"2020-12-11T18:38:55+0000","dateFinished":"2020-12-11T18:38:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3975"},{"text":"%python\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import roc_auc_score, accuracy_score, f1_score, confusion_matrix, classification_report\nfrom sklearn.model_selection import train_test_split\n\n\nmodel = LogisticRegression()\nmodel.fit(x_train, y_train)\npreds = model.predict(x_test)\n\nprint('accuracy:', accuracy_score(preds, y_test))","user":"anonymous","dateUpdated":"2020-12-11T22:28:08+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607685202318_-692847424","id":"20201211-111322_1511717788","dateCreated":"2020-12-11T11:13:22+0000","dateStarted":"2020-12-11T22:23:03+0000","dateFinished":"2020-12-11T22:23:03+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3976"},{"text":"%sh\npip3 install --upgrade pip\npip3 install pypi-install\npip3 install requests\n","user":"anonymous","dateUpdated":"2020-12-11T22:26:36+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607681646671_-603026612","id":"20201211-101406_543709415","dateCreated":"2020-12-11T10:14:06+0000","dateStarted":"2020-12-11T18:38:55+0000","dateFinished":"2020-12-11T18:38:59+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3977"},{"text":"Web page connection and city prediction","user":"anonymous","dateUpdated":"2020-12-11T22:26:36+0000","config":{"colWidth":12,"fontSize":16,"enabled":false,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607725408344_1499032271","id":"20201211-222328_250913480","dateCreated":"2020-12-11T22:23:28+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:3978"},{"text":"The paragraph below runs automatically upnon web's call","user":"anonymous","dateUpdated":"2020-12-11T22:26:36+0000","config":{"colWidth":12,"fontSize":9,"enabled":false,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607725437234_945946762","id":"20201211-222357_1914311148","dateCreated":"2020-12-11T22:23:57+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:3979"},{"text":"%python\nimport json\nimport requests\nfrom types import SimpleNamespace  \n\n\nresponse = requests.get(\"https://penades497.editorx.io/qualitylife/_functions/survey\")\ntext_json = json.loads(response.text)\njson_response = response.json()\nrepository = json_response['items'][0]\n\ndata = SimpleNamespace(**repository)\n\ncreated_Date = data._createdDate\nupdated_Date = data._updatedDate\n_id = data._id\nemail = data.email1\nedad = data.edad1\nsexo = data.sexo1\netnia = data.etnia1\nciudad_natal = data.ciudad_natal\nplaya_montana = data.playamontana1\nclima = data.clima1\nplan_perfecto = data.planperfecto1\naficion = data.aficion1\nsalud = data.salud1\nestado_civil = data.estadocivil1\nnivel_vida = data.nivelvida1\nsitio = data.sitio1\nprint(_id)\nprint(email)\nprint(aficion)\n\ninputs = [[playa_montana, clima, sitio, salud, nivel_vida]]\n\nciudad_array = model.predict(inputs)\nciudad = ciudad_array[0]\n\nurl = \"https://penades497.editorx.io/qualitylife/_functions/myFunction\"\nmyobj = {\"_id\" : _id , \n\"email1\" : email , \n\"edad1\" : edad ,\n\"sexo1\" : sexo ,\n\"etnia1\": etnia,\n\"ciudad_natal\" : ciudad_natal,\n\"playamontana1\" : playa_montana,\n\"clima1\": clima,\n\"planperfecto1\": plan_perfecto,\n\"aficion1\": aficion,\n\"estadocivil1\": estado_civil,\n\"salud1\": salud,\n\"nivelvida1\": nivel_vida,\n\"sitio1\": sitio,\n\"city\" : ciudad }\nr = requests.post(url, data = json.dumps(myobj))\nprint(r)\nprint(r.text)\n","user":"anonymous","dateUpdated":"2020-12-11T22:26:36+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/python","editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"b9c859cf-f021-4559-9663-fd2587e94046\npabloprueba@gmail.com\nPasear\n<Response [201]>\n{\"inserted\":{\"clima1\":20.28,\"playamontana1\":0,\"ciudad_natal\":10,\"aficion1\":\"Pasear\",\"city\":\"Tenerife\",\"sexo1\":0,\"edad1\":80,\"_id\":\"b9c859cf-f021-4559-9663-fd2587e94046\",\"email1\":\"pabloprueba@gmail.com\",\"estadocivil1\":1,\"planperfecto1\":3,\"nivelvida1\":1288.62,\"sitio1\":0.51,\"etnia1\":\"0\",\"salud1\":10.03,\"_createdDate\":\"2020-12-11T22:49:54.889Z\",\"_updatedDate\":\"2020-12-11T22:49:56.426Z\",\"link-cuestionario-dataset-all\":\"/cuestionario-dataset/\",\"link-cuestionario-dataset-email1\":\"/cuestionario-dataset/pabloprueba%40gmail.com\"}}\n"}]},"apps":[],"jobName":"paragraph_1607675235049_1879503864","id":"20201211-082715_1127089393","dateCreated":"2020-12-11T08:27:15+0000","dateStarted":"2020-12-11T22:49:55+0000","dateFinished":"2020-12-11T22:49:56+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3980"},{"text":"","user":"anonymous","dateUpdated":"2020-12-11T22:26:36+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607711939970_-5374894","id":"20201211-183859_276757108","dateCreated":"2020-12-11T18:38:59+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:3981"}],"name":"Data Project 1","id":"2FT5A2H1V","noteParams":{},"noteForms":{},"angularObjects":{"python:shared_process":[],"sh:shared_process":[],"spark:shared_process":[],"cassandra:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}